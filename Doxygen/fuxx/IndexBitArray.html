<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />


<link rel="shortcut icon" type="image/x-icon" href="http://www.arangodb.org/wp-content/themes/triagens/images/favicon.ico">

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://www.arangodb.org/wp-content/themes/triagens-child/style.css" />
<link rel="pingback" href="" />


<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.4 - http://yoast.com/wordpress/seo/ -->
<title>ArangoDB Manual Pages - ArangoDB</title>
<meta name="description" content="ArangoDB Manual Pages"/>
<link rel="canonical" href="http://www.arangodb.org/manualredirector" />
<meta property='og:locale' content='en_US'/>
<meta property='og:title' content='ArangoDB Manual Pages - ArangoDB'/>
<meta property='og:description' content='ArangoDB Manual Pages'/>
<meta property='og:url' content='http://www.arangodb.org/manualredirector'/>
<meta property='og:site_name' content='ArangoDB'/>
<meta property='og:type' content='article'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Feed" href="http://www.arangodb.org/feed" />
<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Comments Feed" href="http://www.arangodb.org/comments/feed" />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.arangodb.org/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.arangodb.org/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>

    <style type="text/css">
    body {
    margin-top: -28px;
    padding-bottom: 28px;
    }
    body.admin-bar #wphead {
       padding-top: 0;
    }
    body.admin-bar #footer {
       padding-bottom: 28px;
    }
<link type="text/css" media="screen" rel="stylesheet" href="http://www.arangodb.org/wp-content/plugins/tweet-blender/css/tweets.css" />

    <style media="print" type="text/css">
      div.faq_answer {display: block!important;}
      p.faq_nav {display: none;}
    </style>


</head>

<body class="page page-id-1410 page-template page-template-onecolumn-page-php">

    <div id="access" role="navigation">
        <div id="nav">
            <a href="http://www.arangodb.org/" title="ArangoDB" id="branding"><img src="/wp-content/themes/triagens/images/logo_arangob_white.gif" width="154" height="34" alt="ArangoDB"></a>
            <div class="menu-header"><ul id="menu-home" class="menu"><li id="menu-item-184" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-184"><a href="http://www.arangodb.org/">Home</a></li>
<li id="menu-item-1345" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1345"><a href="http://www.arangodb.org/try">Try it out</a></li>
<li id="menu-item-279" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-279"><a href="http://www.arangodb.org/documentation">Documentation</a></li>
<li id="menu-item-95" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-95"><a href="http://www.arangodb.org/roadmap">Roadmap</a></li>
<li id="menu-item-71" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-71"><a href="http://www.arangodb.org/download">Downloads</a></li>
<li id="menu-item-1299" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1299"><a href="http://www.arangodb.org/api">Drivers</a></li>
<li id="menu-item-156" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-156"><a href="http://www.arangodb.org/blog">Blog</a></li>
</ul></div>            <div class="clear_both"></div>
        </div>
    </div><!-- #access -->

  <div id="surrounding">

    <div id="wrapper" class="hfeed">
	<div id="main">

    <div id="fullsize" class="one-column">
      <div id="content" role="main">



            <div id="post-1410" class="post-1410 page type-page status-publish hentry">
                    <h2 class="entry-title">ArangoDB Manual Pages</h2>

	  <div class="entry-content">

<link id="arangodb.css" type="text/css" href="arangodb.css" rel="stylesheet">
</div>
<div id="manual_search">
<form action="/" id="searchform" method="get" role="search">
  <div><label for="s" class="screen-reader-text">Search for:</label>
    <input type="text" id="s" name="s" value="" />
    <input type="submit" value="Search" id="searchsubmit" />
  </div>
</form>
</div>
<div class="clear_both"></div>
<hr />
<div class="arangodb">
<div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BitArray Indexes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> <div class="navigate"><a href="IndexSkiplist.html">prev</a> | <a href="DbaManual.html">home</a> | <a href="DbaManualAuthentication.html">next</a></div>  <div class="toc"><ul>
<li><a class="el" href="IndexBitArray.html">BitArray Indexes</a><ul>
<li><a class="el" href="IndexBitArray.html#IndexBitArrayIntro">Introduction to Bit-Array Indexes</a></li>
<li><a class="el" href="IndexBitArray.html#IndexBitArrayShell">Accessing BitArray Indexes from the Shell</a><ul>
<li><a class="el" href="IndexBitArray.html#IndexBitArrayShellEnsureBitarray">collection.ensureBitarray</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
  </div> <h2><a class="anchor" id="IndexBitArrayIntro"></a>
Introduction to Bit-Array Indexes</h2>
<p>It is possible to define a bit-array index on one or more attributes (or paths) of a documents.</p>
<h3><a class="anchor" id="IndexBitArrayShell"></a>
Accessing BitArray Indexes from the Shell</h3>
<p><a class="anchor" id="IndexBitArrayShellEnsureBitarray"></a> <div class="functionsignature"> <span class="functionargument">collection</span>.ensureBitarray( <span class="functionargument">field1</span>,  <span class="functionargument">value1</span>,  <span class="functionargument">field2</span>,  <span class="functionargument">value2</span>, ...,  <span class="functionargument">fieldn</span>,  <span class="functionargument">valuen</span>) </div>Creates a bitarray index on documents using attributes as paths to the fields ( <span class="functionargument">field1</span>,...,  <span class="functionargument">fieldn</span>). A value ( <span class="functionargument">value1</span>,..., <span class="functionargument">valuen</span>) consists of an array of possible values that the field can take. At least one field and one set of possible values must be given.All documents, which do not have <em>all</em> of the attribute paths are ignored (that is, are not part of the bitarray index, they are however stored within the collection). A document which contains all of the attribute paths yet has one or more values which are <em>not</em> part of the defined range of values will be rejected and the document will not inserted within the collection. Note that, if a bitarray index is created subsequent to any documents inserted in the given collection, then the creation of the index will fail if one or more documents are rejected (due to attribute values being outside the designated range).In case that the index was successfully created, the index identifier is returned.In the example below we create a bitarray index with one field and that field can have the values of either <code>0</code> or <code>1</code>. Any document which has the attribute <code>x</code> defined and does not have a value of <code>0</code> or <code>1</code> will be rejected and therefore not inserted within the collection. Documents without the attribute <code>x</code> defined will not take part in the index.<div class="fragment"><div class="line">arango&gt; arangod&gt; db.example.ensureBitarray(<span class="stringliteral">&quot;x&quot;</span>, [0,1]);</div>
<div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;id&quot;</span> : <span class="stringliteral">&quot;2755894/3607862&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;unique&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;type&quot;</span> : <span class="stringliteral">&quot;bitarray&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;fields&quot;</span> : [[<span class="stringliteral">&quot;x&quot;</span>, [0, 1]]],</div>
<div class="line">  <span class="stringliteral">&quot;undefined&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;isNewlyCreated&quot;</span> : <span class="keyword">true</span></div>
<div class="line">}</div>
</div><!-- fragment -->In the example below we create a bitarray index with one field and that field can have the values of either <code>0</code>, <code>1</code> or <em>other</em> (indicated by <code>[]</code>). Any document which has the attribute <code>x</code> defined will take part in the index. Documents without the attribute <code>x</code> defined will not take part in the index.<div class="fragment"><div class="line">arangod&gt; db.example.ensureBitarray(<span class="stringliteral">&quot;x&quot;</span>, [0,1,[]]);</div>
<div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;id&quot;</span> : <span class="stringliteral">&quot;2755894/4263222&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;unique&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;type&quot;</span> : <span class="stringliteral">&quot;bitarray&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;fields&quot;</span> : [[<span class="stringliteral">&quot;x&quot;</span>, [0, 1, [ ]]]],</div>
<div class="line">  <span class="stringliteral">&quot;undefined&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;isNewlyCreated&quot;</span> : <span class="keyword">true</span></div>
<div class="line">}</div>
</div><!-- fragment -->In the example below we create a bitarray index with two fields. Field <code>x</code> can have the values of either <code>0</code> or <code>1</code>; while field <code>y</code> can have the values of <code>2</code> or <code>"a"</code>. A document which does not have <em>both</em> attributes <code>x</code> and <code>y</code> will not take part within the index. A document which does have both attributes <code>x</code> and <code>y</code> defined must have the values <code>0</code> or <code>1</code> for attribute <code>x</code> and <code>2</code> or <code>a</code> for attribute <code>y</code>, otherwise the document will not be inserted within the collection.<div class="fragment"><div class="line">arangod&gt; db.example.ensureBitarray(<span class="stringliteral">&quot;x&quot;</span>, [0,1], <span class="stringliteral">&quot;y&quot;</span>, [2,<span class="stringliteral">&quot;a&quot;</span>]);</div>
<div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;id&quot;</span> : <span class="stringliteral">&quot;2755894/5246262&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;unique&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;type&quot;</span> : <span class="stringliteral">&quot;bitarray&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;fields&quot;</span> : [[<span class="stringliteral">&quot;x&quot;</span>, [0, 1]], [<span class="stringliteral">&quot;y&quot;</span>, [0, 1]]],</div>
<div class="line">  <span class="stringliteral">&quot;undefined&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;isNewlyCreated&quot;</span> : <span class="keyword">false</span></div>
<div class="line">}</div>
</div><!-- fragment -->In the example below we create a bitarray index with two fields. Field <code>x</code> can have the values of either <code>0</code> or <code>1</code>; while field <code>y</code> can have the values of <code>2</code>, <code>"a"</code> or <em>other</em> . A document which does not have <em>both</em> attributes <code>x</code> and <code>y</code> will not take part within the index. A document which does have both attributes <code>x</code> and <code>y</code> defined must have the values <code>0</code> or <code>1</code> for attribute <code>x</code> and any value for attribute <code>y</code> will be acceptable, otherwise the document will not be inserted within the collection.<div class="fragment"><div class="line">arangod&gt; db.example.ensureBitarray(<span class="stringliteral">&quot;x&quot;</span>, [0,1], <span class="stringliteral">&quot;y&quot;</span>, [2,<span class="stringliteral">&quot;a&quot;</span>,[]]);</div>
<div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;id&quot;</span> : <span class="stringliteral">&quot;2755894/5770550&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;unique&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;type&quot;</span> : <span class="stringliteral">&quot;bitarray&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;fields&quot;</span> : [[<span class="stringliteral">&quot;x&quot;</span>, [0, 1]], [<span class="stringliteral">&quot;y&quot;</span>, [2, <span class="stringliteral">&quot;a&quot;</span>, [ ]]]],</div>
<div class="line">  <span class="stringliteral">&quot;undefined&quot;</span> : <span class="keyword">false</span>,</div>
<div class="line">  <span class="stringliteral">&quot;isNewlyCreated&quot;</span> : <span class="keyword">true</span></div>
<div class="line">}</div>
</div><!-- fragment -->  </p>
</div></div><!-- contents -->
</div>


	  </div><!-- .entry-content -->
	</div><!-- #post-## -->


      <div id="comments">


  <p class="nocomments">Comments are closed.</p>



</div><!-- #comments -->


      </div><!-- #content -->
    </div><!-- #container -->

  <div style="clear:both;"></div>
  </div><!-- #main -->



</div><!-- #wrapper -->
</div><!-- #surrounding -->


  <div id="footer" role="contentinfo">
    <div id="colophon">




      <div id="footer-widget-area" role="complementary">

	<div id="first" class="widget-area">
	  <ul class="xoxo">
		<li id="recent-posts-4" class="widget-container widget_recent_entries">	  <h3 class="widget-title">Recent Posts</h3>	<ul>
	  <li>
	<a href="http://www.arangodb.org/2013/05/22/replication-and-sharding-in-arangodb" title="Our plans on replication and sharding in ArangoDB">Our plans on replication and sharding in ArangoDB</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/14/ideas-and-facts-from-scotland-js-in-edinburgh" title="Ideas and Facts from scotland.js in Edinburgh">Ideas and Facts from scotland.js in Edinburgh</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/12/arangodb-1-3-0-released" title="ArangoDB 1.3.0 released">ArangoDB 1.3.0 released</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/06/foxx-screencast-part-2" title="Foxx Screencast: Part 2">Foxx Screencast: Part 2</a>
	    </li>
	</ul>
    </li><li id="text-5" class="widget-container widget_text"><h3 class="widget-title">Documentation</h3>     <div class="textwidget"><ul>
  <li><a href="/quickstart">First step tutorial</a></li>
  <li><a href="/manuals">Manual/documentation (HTML/PDF)</a></li>
  <li><a href="/manuals/arangodb_1.0_shell_reference_card.pdf">ArangoDB Shell Reference Card (HTML/PDF)</a></li>
  <li><a href="/try">Try ArangoDB online</a></li>
  <li><a href="/api">API clients & 3rd party libs</a></li>
        <li><a href="/logos">ArangoDB artwork/logos</a></li>
</ul>
</div>
    </li><li id="text-7" class="widget-container widget_text"><h3 class="widget-title">Social Links</h3>      <div class="textwidget"><ul>
  <li><a href="https://twitter.com/arangodb">ArangoDB on Twitter</a></li>
  <li><a href="https://groups.google.com/group/arangodb">ArangoDB Google Group</a></li>
  <li><a href="http://stackoverflow.com/questions/tagged/arangodb">ArangoDB questions on StackOverflow</a></li>
  <li><a href="https://github.com/triagens/arangodb/issues?state=open">Issue Tracker at Github</a></li>
</ul></div>
    </li><li id="text-6" class="widget-container widget_text"><h3 class="widget-title">Roadmap</h3>	<div class="textwidget"><ul>
  <li><a href="/roadmap/#v1.4">Backlog for Version 1.4</a></li>
  <li><a href="/roadmap/#v1.x">Backlog for Version 1.x</a></li>
</ul></div>
    </li>	  </ul>
	</div><!-- #first .widget-area -->




      </div><!-- #footer-widget-area -->


<!-- #site-generator -->

    </div><!-- #colophon -->

        <div class="copy">
            Copyright 2013 ArangoDB | <a href="/imprint">Imprint</a>
        </div>

  </div><!-- #footer -->

</body>
</html>