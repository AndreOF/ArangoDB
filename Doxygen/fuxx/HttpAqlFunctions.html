<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />


<link rel="shortcut icon" type="image/x-icon" href="http://www.arangodb.org/wp-content/themes/triagens/images/favicon.ico">

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://www.arangodb.org/wp-content/themes/triagens-child/style.css" />
<link rel="pingback" href="" />


<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.4 - http://yoast.com/wordpress/seo/ -->
<title>ArangoDB Manual Pages - ArangoDB</title>
<meta name="description" content="ArangoDB Manual Pages"/>
<link rel="canonical" href="http://www.arangodb.org/manualredirector" />
<meta property='og:locale' content='en_US'/>
<meta property='og:title' content='ArangoDB Manual Pages - ArangoDB'/>
<meta property='og:description' content='ArangoDB Manual Pages'/>
<meta property='og:url' content='http://www.arangodb.org/manualredirector'/>
<meta property='og:site_name' content='ArangoDB'/>
<meta property='og:type' content='article'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Feed" href="http://www.arangodb.org/feed" />
<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Comments Feed" href="http://www.arangodb.org/comments/feed" />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.arangodb.org/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.arangodb.org/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>

    <style type="text/css">
    body {
    margin-top: -28px;
    padding-bottom: 28px;
    }
    body.admin-bar #wphead {
       padding-top: 0;
    }
    body.admin-bar #footer {
       padding-bottom: 28px;
    }
<link type="text/css" media="screen" rel="stylesheet" href="http://www.arangodb.org/wp-content/plugins/tweet-blender/css/tweets.css" />

    <style media="print" type="text/css">
      div.faq_answer {display: block!important;}
      p.faq_nav {display: none;}
    </style>


</head>

<body class="page page-id-1410 page-template page-template-onecolumn-page-php">

    <div id="access" role="navigation">
        <div id="nav">
            <a href="http://www.arangodb.org/" title="ArangoDB" id="branding"><img src="/wp-content/themes/triagens/images/logo_arangob_white.gif" width="154" height="34" alt="ArangoDB"></a>
            <div class="menu-header"><ul id="menu-home" class="menu"><li id="menu-item-184" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-184"><a href="http://www.arangodb.org/">Home</a></li>
<li id="menu-item-1345" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1345"><a href="http://www.arangodb.org/try">Try it out</a></li>
<li id="menu-item-279" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-279"><a href="http://www.arangodb.org/documentation">Documentation</a></li>
<li id="menu-item-95" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-95"><a href="http://www.arangodb.org/roadmap">Roadmap</a></li>
<li id="menu-item-71" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-71"><a href="http://www.arangodb.org/download">Downloads</a></li>
<li id="menu-item-1299" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1299"><a href="http://www.arangodb.org/api">Drivers</a></li>
<li id="menu-item-156" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-156"><a href="http://www.arangodb.org/blog">Blog</a></li>
</ul></div>            <div class="clear_both"></div>
        </div>
    </div><!-- #access -->

  <div id="surrounding">

    <div id="wrapper" class="hfeed">
	<div id="main">

    <div id="fullsize" class="one-column">
      <div id="content" role="main">



            <div id="post-1410" class="post-1410 page type-page status-publish hentry">
                    <h2 class="entry-title">ArangoDB Manual Pages</h2>

	  <div class="entry-content">

<link id="arangodb.css" type="text/css" href="arangodb.css" rel="stylesheet">
</div>
<div id="manual_search">
<form action="/" id="searchform" method="get" role="search">
  <div><label for="s" class="screen-reader-text">Search for:</label>
    <input type="text" id="s" name="s" value="" />
    <input type="submit" value="Search" id="searchsubmit" />
  </div>
</form>
</div>
<div class="clear_both"></div>
<hr />
<div class="arangodb">
<div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">HTTP Interface for AQL User Functions Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> <div class="navigate"><a href="HttpCurrentDatabase.html">prev</a> | <a href="ImplementorManual.html">home</a> | <a href="HttpSimple.html">next</a></div>  <div class="toc"><ul>
<li><a class="el" href="HttpAqlFunctions.html">HTTP Interface for AQL User Functions Management</a><ul>
<li><a class="el" href="HttpAqlFunctions.html#HttpAqlFunctionsIntro">AQL User Functions Management </a><ul>
<li><a class="el" href="HttpAqlFunctions.html#HttpAqlFunctionsSave">POST /_api/aqlfunction</a></li>
<li><a class="el" href="HttpAqlFunctions.html#HttpAqlFunctionsRemove">DELETE /_api/aqlfunction/functionname</a></li>
<li><a class="el" href="HttpAqlFunctions.html#HttpAqlFunctionsList">GET /_api/aqlfunction</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
  </div> <h2><a class="anchor" id="HttpAqlFunctionsIntro"></a>
AQL User Functions Management </h2>
<p>This is an introduction to ArangoDB's Http interface for managing AQL user functions. AQL user functions are a means to extend the functionality of ArangoDB's query language (AQL) with user-defined Javascript code.</p>
<p>For an overview of how AQL user functions work, please refer to <a class="el" href="ExtendingAql.html">Extending AQL with User Functions</a>.</p>
<p>The Http interface provides an API for adding, deleting, and listing previously registered AQL user functions.</p>
<p>All user functions managed through this interface will be stored in the system collection <code>_aqlfunctions</code>. Documents in this collection should not be accessed directly, but only via the dedicated interfaces.</p>
<p><a class="anchor" id="HttpAqlFunctionsSave"></a> </p><div class="restheader">POST /_api/aqlfunction<div class="restheaderremark">(creates or replaces an AQL user function)</div></div> <H3>Body parameters</H3><div class="restbodyparam">body (json,required)</div> the body with name and code of the aql user function. <H3 class="space-before">Description</H3>The following data need to be passed in a JSON representation in the body of the POST request:<ul>
<li><code>name</code>: the fully qualified name of the user functions.</li>
</ul>
<ul>
<li><code>code</code>: a string representation of the function body.</li>
</ul>
<ul>
<li><code>isDeterministic</code>: an optional boolean value to indicate that the function results are fully deterministic (function return value solely depends on the input value and return value is the same for repeated calls with same input). The <code>isDeterministic</code> attribute is currently not used but may be used later for optimisations.</li>
</ul>
In case of success, the returned JSON object has the following properties:<ul>
<li><code>error</code>: boolean flag to indicate that an error occurred (<code>false</code> in this case)</li>
</ul>
<ul>
<li><code>code</code>: the HTTP status code</li>
</ul>
The body of the response will contain a JSON object with additional error details. The object has the following attributes:<ul>
<li><code>error</code>: boolean flag to indicate that an error occurred (<code>true</code> in this case)</li>
</ul>
<ul>
<li><code>code</code>: the HTTP status code</li>
</ul>
<ul>
<li><code>errorNum</code>: the server error number</li>
</ul>
<ul>
<li><code>errorMessage</code>: a descriptive error message</li>
</ul>
 <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 200</div> If the function already existed and was replaced by the call, the server will respond with <code>HTTP 200</code>. <p></p><div class="restreturncode">HTTP 201</div> If the function can be registered by the server, the server will respond with <code>HTTP 201</code>. <p></p><div class="restreturncode">HTTP 400</div> If the JSON representation is malformed or mandatory data is missing from the request, the server will respond with <code>HTTP 400</code>. <H3>Examples</H3><pre class="fragment">unix&gt; curl -X POST --data @- --dump - http://localhost:8529/_api/aqlfunction
{ "name" : "myfunctions:temperature:celsiustofahrenheit", "code" : "function (celsius) { return celsius * 1.8 + 32; }" }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "error" : false, 
  "code" : 201 
}

</pre> </p>
<p><a class="anchor" id="HttpAqlFunctionsRemove"></a> </p><div class="restheader">DELETE /_api/aqlfunction/{name}<div class="restheaderremark">(remove an existing AQL user function)</div></div> <H3>URL parameters</H3> <div class="resturlparam">name (string,required)</div> the name of the AQL user function. <H3>Query parameters</H3> <div class="restqueryparam">group (string,optional)</div> If set to <code>true</code>, then the function name provided in <code>name</code> is treated as a namespace prefix, and all functions in the specified namespace will be deleted. If set to <code>false</code>, the function name provided in <code>name</code> must be fully qualified, including any namespaces. <H3 class="space-before">Description</H3>Removes an existing AQL user function, identified by <code>name</code>.In case of success, the returned JSON object has the following properties:<ul>
<li><code>error</code>: boolean flag to indicate that an error occurred (<code>false</code> in this case)</li>
</ul>
<ul>
<li><code>code</code>: the HTTP status code</li>
</ul>
The body of the response will contain a JSON object with additional error details. The object has the following attributes:<ul>
<li><code>error</code>: boolean flag to indicate that an error occurred (<code>true</code> in this case)</li>
</ul>
<ul>
<li><code>code</code>: the HTTP status code</li>
</ul>
<ul>
<li><code>errorNum</code>: the server error number</li>
</ul>
<ul>
<li><code>errorMessage</code>: a descriptive error message</li>
</ul>
 <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 200</div> If the function can be removed by the server, the server will respond with <code>HTTP 200</code>. <p></p><div class="restreturncode">HTTP 400</div> If the user function name is malformed, the server will respond with <code>HTTP 400</code>. <p></p><div class="restreturncode">HTTP 404</div> If the specified user user function does not exist, the server will respond with <code>HTTP 404</code>. <H3>Examples</H3>deletes a function:<pre class="fragment">unix&gt; curl -X DELETE --dump - http://localhost:8529/_api/aqlfunction/square:x:y

HTTP/1.1 200 OK
content-type: application/json; charset=utf-8

{ 
  "error" : false, 
  "code" : 200 
}

</pre><p> function not found:<pre class="fragment">unix&gt; curl -X DELETE --dump - http://localhost:8529/_api/aqlfunction/myfunction:x:y

HTTP/1.1 404 Not Found
content-type: application/json; charset=utf-8

{ 
  "error" : true, 
  "code" : 404, 
  "errorNum" : 1582, 
  "errorMessage" : "user function '%s()' not found" 
}

</pre> </p>
<p><a class="anchor" id="HttpAqlFunctionsList"></a> </p><div class="restheader">GET /_api/aqlfunction<div class="restheaderremark">(returns registered AQL user functions)</div></div> <H3>Query parameters</H3> <div class="restqueryparam">namespace (string,optional)</div> Returns all registered AQL user functions from namespace <code>namespace</code>. <H3 class="space-before">Description</H3> Returns all registered AQL user functions.The call will return a JSON list with all user functions found. Each user function will at least have the following attributes:<ul>
<li><code>name</code>: The fully qualified name of the user function</li>
</ul>
<ul>
<li><code>code</code>: A string representation of the function body</li>
</ul>
 <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 200</div> if success <code>HTTP 200</code> is returned. <H3>Examples</H3><pre class="fragment">unix&gt; curl --dump - http://localhost:8529/_api/aqlfunction

HTTP/1.1 200 OK
content-type: application/json; charset=utf-8

[ ]

</pre>  </p>
</div></div><!-- contents -->
</div>


	  </div><!-- .entry-content -->
	</div><!-- #post-## -->


      <div id="comments">


  <p class="nocomments">Comments are closed.</p>



</div><!-- #comments -->


      </div><!-- #content -->
    </div><!-- #container -->

  <div style="clear:both;"></div>
  </div><!-- #main -->



</div><!-- #wrapper -->
</div><!-- #surrounding -->


  <div id="footer" role="contentinfo">
    <div id="colophon">




      <div id="footer-widget-area" role="complementary">

	<div id="first" class="widget-area">
	  <ul class="xoxo">
		<li id="recent-posts-4" class="widget-container widget_recent_entries">	  <h3 class="widget-title">Recent Posts</h3>	<ul>
	  <li>
	<a href="http://www.arangodb.org/2013/05/22/replication-and-sharding-in-arangodb" title="Our plans on replication and sharding in ArangoDB">Our plans on replication and sharding in ArangoDB</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/14/ideas-and-facts-from-scotland-js-in-edinburgh" title="Ideas and Facts from scotland.js in Edinburgh">Ideas and Facts from scotland.js in Edinburgh</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/12/arangodb-1-3-0-released" title="ArangoDB 1.3.0 released">ArangoDB 1.3.0 released</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/06/foxx-screencast-part-2" title="Foxx Screencast: Part 2">Foxx Screencast: Part 2</a>
	    </li>
	</ul>
    </li><li id="text-5" class="widget-container widget_text"><h3 class="widget-title">Documentation</h3>     <div class="textwidget"><ul>
  <li><a href="/quickstart">First step tutorial</a></li>
  <li><a href="/manuals">Manual/documentation (HTML/PDF)</a></li>
  <li><a href="/manuals/arangodb_1.0_shell_reference_card.pdf">ArangoDB Shell Reference Card (HTML/PDF)</a></li>
  <li><a href="/try">Try ArangoDB online</a></li>
  <li><a href="/api">API clients & 3rd party libs</a></li>
        <li><a href="/logos">ArangoDB artwork/logos</a></li>
</ul>
</div>
    </li><li id="text-7" class="widget-container widget_text"><h3 class="widget-title">Social Links</h3>      <div class="textwidget"><ul>
  <li><a href="https://twitter.com/arangodb">ArangoDB on Twitter</a></li>
  <li><a href="https://groups.google.com/group/arangodb">ArangoDB Google Group</a></li>
  <li><a href="http://stackoverflow.com/questions/tagged/arangodb">ArangoDB questions on StackOverflow</a></li>
  <li><a href="https://github.com/triagens/arangodb/issues?state=open">Issue Tracker at Github</a></li>
</ul></div>
    </li><li id="text-6" class="widget-container widget_text"><h3 class="widget-title">Roadmap</h3>	<div class="textwidget"><ul>
  <li><a href="/roadmap/#v1.4">Backlog for Version 1.4</a></li>
  <li><a href="/roadmap/#v1.x">Backlog for Version 1.x</a></li>
</ul></div>
    </li>	  </ul>
	</div><!-- #first .widget-area -->




      </div><!-- #footer-widget-area -->


<!-- #site-generator -->

    </div><!-- #colophon -->

        <div class="copy">
            Copyright 2013 ArangoDB | <a href="/imprint">Imprint</a>
        </div>

  </div><!-- #footer -->

</body>
</html>