<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />


<link rel="shortcut icon" type="image/x-icon" href="http://www.arangodb.org/wp-content/themes/triagens/images/favicon.ico">

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://www.arangodb.org/wp-content/themes/triagens-child/style.css" />
<link rel="pingback" href="" />


<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.4 - http://yoast.com/wordpress/seo/ -->
<title>ArangoDB Manual Pages - ArangoDB</title>
<meta name="description" content="ArangoDB Manual Pages"/>
<link rel="canonical" href="http://www.arangodb.org/manualredirector" />
<meta property='og:locale' content='en_US'/>
<meta property='og:title' content='ArangoDB Manual Pages - ArangoDB'/>
<meta property='og:description' content='ArangoDB Manual Pages'/>
<meta property='og:url' content='http://www.arangodb.org/manualredirector'/>
<meta property='og:site_name' content='ArangoDB'/>
<meta property='og:type' content='article'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Feed" href="http://www.arangodb.org/feed" />
<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Comments Feed" href="http://www.arangodb.org/comments/feed" />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.arangodb.org/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.arangodb.org/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>

    <style type="text/css">
    body {
    margin-top: -28px;
    padding-bottom: 28px;
    }
    body.admin-bar #wphead {
       padding-top: 0;
    }
    body.admin-bar #footer {
       padding-bottom: 28px;
    }
<link type="text/css" media="screen" rel="stylesheet" href="http://www.arangodb.org/wp-content/plugins/tweet-blender/css/tweets.css" />

    <style media="print" type="text/css">
      div.faq_answer {display: block!important;}
      p.faq_nav {display: none;}
    </style>


</head>

<body class="page page-id-1410 page-template page-template-onecolumn-page-php">

    <div id="access" role="navigation">
        <div id="nav">
            <a href="http://www.arangodb.org/" title="ArangoDB" id="branding"><img src="/wp-content/themes/triagens/images/logo_arangob_white.gif" width="154" height="34" alt="ArangoDB"></a>
            <div class="menu-header"><ul id="menu-home" class="menu"><li id="menu-item-184" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-184"><a href="http://www.arangodb.org/">Home</a></li>
<li id="menu-item-1345" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1345"><a href="http://www.arangodb.org/try">Try it out</a></li>
<li id="menu-item-279" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-279"><a href="http://www.arangodb.org/documentation">Documentation</a></li>
<li id="menu-item-95" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-95"><a href="http://www.arangodb.org/roadmap">Roadmap</a></li>
<li id="menu-item-71" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-71"><a href="http://www.arangodb.org/download">Downloads</a></li>
<li id="menu-item-1299" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1299"><a href="http://www.arangodb.org/api">Drivers</a></li>
<li id="menu-item-156" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-156"><a href="http://www.arangodb.org/blog">Blog</a></li>
</ul></div>            <div class="clear_both"></div>
        </div>
    </div><!-- #access -->

  <div id="surrounding">

    <div id="wrapper" class="hfeed">
	<div id="main">

    <div id="fullsize" class="one-column">
      <div id="content" role="main">



            <div id="post-1410" class="post-1410 page type-page status-publish hentry">
                    <h2 class="entry-title">ArangoDB Manual Pages</h2>

	  <div class="entry-content">

<link id="arangodb.css" type="text/css" href="arangodb.css" rel="stylesheet">
</div>
<div id="manual_search">
<form action="/" id="searchform" method="get" role="search">
  <div><label for="s" class="screen-reader-text">Search for:</label>
    <input type="text" id="s" name="s" value="" />
    <input type="submit" value="Search" id="searchsubmit" />
  </div>
</form>
</div>
<div class="clear_both"></div>
<hr />
<div class="arangodb">
<div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">HTTP Interface for Simple Queries </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> <div class="navigate"><a href="HttpAqlFunctions.html">prev</a> | <a href="ImplementorManual.html">home</a> | <a href="HttpCollection.html">next</a></div>  <div class="toc"><ul>
<li><a class="el" href="HttpSimple.html">HTTP Interface for Simple Queries</a><ul>
<li><a class="el" href="HttpSimple.html#HttpSimpleIntro">Simple Queries </a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleHttp">Working with Simples Queries using HTTP </a><ul>
<li><a class="el" href="HttpSimple.html#HttpSimpleAll">PUT /_api/simple/all</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleByExample">PUT /_api/simple/by-example</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleFirstExample">PUT /_api/simple/first-example</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleAny">PUT /_api/simple/any</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleRange">PUT /_api/simple/range</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleNear">PUT /_api/simple/near</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleWithin">PUT /_api/simple/within</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleFulltext">PUT /_api/simple/fulltext</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleRemoveByExample">PUT /_api/simple/remove-by-example</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleReplaceByExample">PUT /_api/simple/replace-by-example</a></li>
<li><a class="el" href="HttpSimple.html#HttpSimpleUpdateByExample">PUT /_api/simple/update-by-example</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
  </div> <h2><a class="anchor" id="HttpSimpleIntro"></a>
Simple Queries </h2>
<p>This is an introduction to ArangoDB's Http interface for simple queries.</p>
<p>Simple queries can be used if the query condition is straight forward simple, i.e., a document reference, all documents, a query-by-example, or a simple geo query. In a simple query you can specify exactly one collection and one condition. The result can then be sorted and can be split into pages.</p>
<h2><a class="anchor" id="HttpSimpleHttp"></a>
Working with Simples Queries using HTTP </h2>
<p>To limit the amount of results to be transferred in one batch, simple queries support a <code>batchSize</code> parameter that can optionally be used to tell the server to limit the number of results to be transferred in one batch to a certain value. If the query has more results than were transferred in one go, more results are waiting on the server so they can be fetched subsequently. If no value for the <code>batchSize</code> parameter is specified, the server will use a reasonable default value.</p>
<p>If the server has more documents than should be returned in a single batch, the server will set the <code>hasMore</code> attribute in the result. It will also return the id of the server-side cursor in the <code>id</code> attribute in the result. This id can be used with the cursor API to fetch any outstanding results from the server and dispose the server-side cursor afterwards.</p>
<p><a class="anchor" id="HttpSimpleAll"></a> </p><div class="restheader">PUT /_api/simple/all<div class="restheaderremark">(executes simple query ALL)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query. <H3 class="space-before">Description</H3>Returns all documents of a collections. The call expects a JSON object as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to query.</li>
</ul>
<ul>
<li><code>skip</code>: The number of documents to skip in the query (optional).</li>
</ul>
<ul>
<li><code>limit</code>: The maximal amount of documents to return. The <code>skip</code> is applied before the <code>limit</code> restriction. (optional)</li>
</ul>
Returns a cursor containing the result, see <a class="el" href="HttpCursor.html">HTTP Interface for AQL Query Cursors</a> for details. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 201</div> is returned if the return set contains at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3>Limit the amount of documents using <code>limit</code><pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/all
{ "collection": "products", "skip": 2, "limit" : 2 }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/166290577", 
      "_rev" : "166290577", 
      "_key" : "166290577", 
      "Hello4" : "World4" 
    }, 
    { 
      "_id" : "products/166618257", 
      "_rev" : "166618257", 
      "_key" : "166618257", 
      "Hello5" : "World5" 
    } 
  ], 
  "hasMore" : false, 
  "count" : 2, 
  "error" : false, 
  "code" : 201 
}

</pre><p> Using a <code>batchSize</code> value<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/all
{ "collection": "products", "batchSize" : 3 }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/169108625", 
      "_rev" : "169108625", 
      "_key" : "169108625", 
      "Hello5" : "World5" 
    }, 
    { 
      "_id" : "products/167797905", 
      "_rev" : "167797905", 
      "_key" : "167797905", 
      "Hello1" : "World1" 
    }, 
    { 
      "_id" : "products/168780945", 
      "_rev" : "168780945", 
      "_key" : "168780945", 
      "Hello4" : "World4" 
    } 
  ], 
  "hasMore" : true, 
  "id" : "169305233", 
  "count" : 5, 
  "error" : false, 
  "code" : 201 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleByExample"></a> </p><div class="restheader">PUT /_api/simple/by-example<div class="restheaderremark">(executes simple query by-example)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query. <H3 class="space-before">Description</H3>This will find all documents matching a given example.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to query.</li>
</ul>
<ul>
<li><code>example</code>: The example.</li>
</ul>
<ul>
<li><code>skip</code>: The documents to skip in the query. (optional)</li>
</ul>
<ul>
<li><code>limit</code>: The maximal amount of documents to return. (optional)</li>
</ul>
Returns a cursor containing the result, see <a class="el" href="HttpCursor.html">HTTP Interface for AQL Query Cursors</a> for details. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 201</div> is returned if the return set contains at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3>Matching an attribute:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/by-example
{ "collection": "products", "example" :  { "i" : 1 }  }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/188900497", 
      "_rev" : "188900497", 
      "_key" : "188900497", 
      "i" : 1 
    }, 
    { 
      "_id" : "products/189097105", 
      "_rev" : "189097105", 
      "_key" : "189097105", 
      "i" : 1, 
      "a" : { 
        "k" : 2, 
        "j" : 2 
      } 
    }, 
    { 
      "_id" : "products/188638353", 
      "_rev" : "188638353", 
      "_key" : "188638353", 
      "i" : 1, 
      "a" : { 
        "j" : 1 
      } 
    }, 
    { 
      "_id" : "products/188310673", 
      "_rev" : "188310673", 
      "_key" : "188310673", 
      "i" : 1, 
      "a" : { 
        "k" : 1, 
        "j" : 1 
      } 
    } 
  ], 
  "hasMore" : false, 
  "count" : 4, 
  "error" : false, 
  "code" : 201 
}

</pre><p> Matching an attribute which is a sub-document:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/by-example
{ "collection": "products", "example" : { "a.j" : 1 } }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/190538897", 
      "_rev" : "190538897", 
      "_key" : "190538897", 
      "i" : 1, 
      "a" : { 
        "k" : 1, 
        "j" : 1 
      } 
    }, 
    { 
      "_id" : "products/190866577", 
      "_rev" : "190866577", 
      "_key" : "190866577", 
      "i" : 1, 
      "a" : { 
        "j" : 1 
      } 
    } 
  ], 
  "hasMore" : false, 
  "count" : 2, 
  "error" : false, 
  "code" : 201 
}

</pre><p> Matching an attribute within a sub-document:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/by-example
{ "collection": "products", "example" : { "a" : { "j" : 1 } } }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/193094801", 
      "_rev" : "193094801", 
      "_key" : "193094801", 
      "i" : 1, 
      "a" : { 
        "j" : 1 
      } 
    } 
  ], 
  "hasMore" : false, 
  "count" : 1, 
  "error" : false, 
  "code" : 201 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleFirstExample"></a> </p><div class="restheader">PUT /_api/simple/first-example<div class="restheaderremark">(executes simple query first-example)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query.  <H3 class="space-before">Description</H3>This will return the first document matching a given example.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to query.</li>
</ul>
<ul>
<li><code>example</code>: The example.</li>
</ul>
Returns a result containing the document or <code>HTTP 404</code> if no document matched the example. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 201</div> is returned if the return set contains at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3>If a matching document was found:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/first-example
{ "collection": "products", "example" :  { "i" : 1 }  }

HTTP/1.1 200 OK
content-type: application/json; charset=utf-8

{ 
  "document" : { 
    "_id" : "products/194995345", 
    "_rev" : "194995345", 
    "_key" : "194995345", 
    "i" : 1, 
    "a" : { 
      "k" : 1, 
      "j" : 1 
    } 
  }, 
  "error" : false, 
  "code" : 200 
}

</pre><p> If no document was found:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/first-example
{ "collection": "products", "example" :  { "l" : 1 }  }

HTTP/1.1 404 Not Found
content-type: application/json; charset=utf-8

{ 
  "error" : true, 
  "code" : 404, 
  "errorNum" : 404, 
  "errorMessage" : "no match" 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleAny"></a> </p><div class="restheader">PUT /_api/simple/any<div class="restheaderremark">(executes simple query ANY)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query. <H3 class="space-before">Description</H3>Returns a random document of a collection. The call expects a JSON object as body with the following attributes:<ul>
<li><code>collection</code>: The identifier or name of the collection to query.</li>
</ul>
Returns a JSON object with the document stored in the attribute <code>document</code> if the collection contains at least one document. If the collection is empty, the attrbute contains null. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 200</div> is returned if the return set contains at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3><pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/any
{ "collection": "products" }

HTTP/1.1 200 OK
content-type: application/json; charset=utf-8

{ 
  "document" : { 
    "_id" : "products/171598993", 
    "_rev" : "171598993", 
    "_key" : "171598993", 
    "Hello5" : "World5" 
  }, 
  "error" : false, 
  "code" : 200 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleRange"></a> </p><div class="restheader">PUT /_api/simple/range<div class="restheaderremark">(executes simple range query)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query.  <H3 class="space-before">Description</H3>This will find all documents within a given range. You must declare a skip-list index on the attribute in order to be able to use a range query.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to query.</li>
</ul>
<ul>
<li><code>attribute</code>: The attribute path to check.</li>
</ul>
<ul>
<li><code>left</code>: The lower bound.</li>
</ul>
<ul>
<li><code>right</code>: The upper bound.</li>
</ul>
<ul>
<li><code>closed</code>: If true, use interval including <code>left</code> and <code>right</code>, otherwise exclude <code>right</code>, but include <code>left</code>.</li>
</ul>
<ul>
<li><code>skip</code>: The documents to skip in the query. (optional)</li>
</ul>
<ul>
<li><code>limit</code>: The maximal amount of documents to return. (optional)</li>
</ul>
Returns a cursor containing the result, see <a class="el" href="HttpCursor.html">HTTP Interface for AQL Query Cursors</a> for details. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 201</div> is returned if there are at least one document in the return range and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3><pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/range
{ "collection": "products", "attribute" : "i", "left" : 2, "right" : 4 }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/199386257", 
      "_rev" : "199386257", 
      "_key" : "199386257", 
      "i" : 2 
    }, 
    { 
      "_id" : "products/199582865", 
      "_rev" : "199582865", 
      "_key" : "199582865", 
      "i" : 3 
    } 
  ], 
  "hasMore" : false, 
  "count" : 2, 
  "error" : false, 
  "code" : 201 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleNear"></a> </p><div class="restheader">PUT /_api/simple/near<div class="restheaderremark">(executes simple query NEAR)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query. <H3 class="space-before">Description</H3>The default will find at most 100 documents near a given coordinate. The returned list is sorted according to the distance, with the nearest document coming first. If there are near documents of equal distance, documents are chosen randomly from this set until the limit is reached.In order to use the <code>near</code> operator, a geo index must be defined for the collection. This index also defines which attribute holds the coordinates for the document. If you have more then one geo-spatial index, you can use the <code>geo</code> field to select a particular index.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to query.</li>
</ul>
<ul>
<li><code>latitude</code>: The latitude of the coordinate.</li>
</ul>
<ul>
<li><code>longitude</code>: The longitude of the coordinate.</li>
</ul>
<ul>
<li><code>distance</code>: If given, the attribute key used to store the distance. (optional)</li>
</ul>
<ul>
<li><code>skip</code>: The number of documents to skip in the query. (optional)</li>
</ul>
<ul>
<li><code>limit</code>: The maximal amount of documents to return. The <code>skip</code> is applied before the <code>limit</code> restriction. The default is 100. (optional)</li>
</ul>
<ul>
<li><code>geo</code>: If given, the identifier of the geo-index to use. (optional)</li>
</ul>
Returns a cursor containing the result, see <a class="el" href="HttpCursor.html">HTTP Interface for AQL Query Cursors</a> for details. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 201</div> is returned if the return set contains at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3>Without distance:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/near
{ "collection": "products", "latitude" : 0, "longitude" : 0, "skip" : 1, "limit" : 2 }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/174089361", 
      "_rev" : "174089361", 
      "_key" : "174089361", 
      "name" : "Name/0.002/", 
      "loc" : [ 
        0.002, 
        0 
      ] 
    }, 
    { 
      "_id" : "products/173696145", 
      "_rev" : "173696145", 
      "_key" : "173696145", 
      "name" : "Name/-0.002/", 
      "loc" : [ 
        -0.002, 
        0 
      ] 
    } 
  ], 
  "hasMore" : false, 
  "count" : 2, 
  "error" : false, 
  "code" : 201 
}

</pre><p> With distance:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/near
{ "collection": "products", "latitude" : 0, "longitude" : 0, "skip" : 1, "limit" : 3, "distance" : "distance" }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/177104017", 
      "_rev" : "177104017", 
      "_key" : "177104017", 
      "distance" : 222.38985328911744, 
      "name" : "Name/-0.002/", 
      "loc" : [ 
        -0.002, 
        0 
      ] 
    }, 
    { 
      "_id" : "products/177497233", 
      "_rev" : "177497233", 
      "_key" : "177497233", 
      "distance" : 222.38985328911744, 
      "name" : "Name/0.002/", 
      "loc" : [ 
        0.002, 
        0 
      ] 
    }, 
    { 
      "_id" : "products/176907409", 
      "_rev" : "176907409", 
      "_key" : "176907409", 
      "distance" : 444.779706578235, 
      "name" : "Name/-0.004/", 
      "loc" : [ 
        -0.004, 
        0 
      ] 
    } 
  ], 
  "hasMore" : false, 
  "count" : 3, 
  "error" : false, 
  "code" : 201 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleWithin"></a> </p><div class="restheader">PUT /_api/simple/within<div class="restheaderremark">(executes simple query WITHIN)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query. <H3 class="space-before">Description</H3>This will find all documents with in a given radius around the coordinate (<code>latitude</code>, <code>longitude</code>). The returned list is sorted by distance.In order to use the <code>within</code> operator, a geo index must be defined for the collection. This index also defines which attribute holds the coordinates for the document. If you have more then one geo-spatial index, you can use the <code>geo</code> field to select a particular index.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to query.</li>
</ul>
<ul>
<li><code>latitude</code>: The latitude of the coordinate.</li>
</ul>
<ul>
<li><code>longitude</code>: The longitude of the coordinate.</li>
</ul>
<ul>
<li><code>radius</code>: The maximal radius (in meters).</li>
</ul>
<ul>
<li><code>distance</code>: If given, the result attribute key used to store the distance values (optional). If specified, distances are returned in meters.</li>
</ul>
<ul>
<li><code>skip</code>: The documents to skip in the query. (optional)</li>
</ul>
<ul>
<li><code>limit</code>: The maximal amount of documents to return. (optional)</li>
</ul>
<ul>
<li><code>geo</code>: If given, the identifier of the geo-index to use. (optional)</li>
</ul>
Returns a cursor containing the result, see <a class="el" href="HttpCursor.html">HTTP Interface for AQL Query Cursors</a> for details. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 201</div> is returned if the return set contains at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3>Without distance:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/near
{ "collection": "products", "latitude" : 0, "longitude" : 0, "skip" : 1, "limit" : 2, "radius" : 500 }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/180905105", 
      "_rev" : "180905105", 
      "_key" : "180905105", 
      "name" : "Name/0.002/", 
      "loc" : [ 
        0.002, 
        0 
      ] 
    }, 
    { 
      "_id" : "products/180511889", 
      "_rev" : "180511889", 
      "_key" : "180511889", 
      "name" : "Name/-0.002/", 
      "loc" : [ 
        -0.002, 
        0 
      ] 
    } 
  ], 
  "hasMore" : false, 
  "count" : 2, 
  "error" : false, 
  "code" : 201 
}

</pre><p> With distance:<pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/near
{ "collection": "products", "latitude" : 0, "longitude" : 0, "skip" : 1, "limit" : 3, "distance" : "distance", "radius" : 300 }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/183919761", 
      "_rev" : "183919761", 
      "_key" : "183919761", 
      "distance" : 222.38985328911744, 
      "name" : "Name/-0.002/", 
      "loc" : [ 
        -0.002, 
        0 
      ] 
    }, 
    { 
      "_id" : "products/184312977", 
      "_rev" : "184312977", 
      "_key" : "184312977", 
      "distance" : 222.38985328911744, 
      "name" : "Name/0.002/", 
      "loc" : [ 
        0.002, 
        0 
      ] 
    }, 
    { 
      "_id" : "products/183723153", 
      "_rev" : "183723153", 
      "_key" : "183723153", 
      "distance" : 444.779706578235, 
      "name" : "Name/-0.004/", 
      "loc" : [ 
        -0.004, 
        0 
      ] 
    } 
  ], 
  "hasMore" : false, 
  "count" : 3, 
  "error" : false, 
  "code" : 201 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleFulltext"></a> </p><div class="restheader">PUT /_api/simple/fulltext<div class="restheaderremark">(executes simple query FULLTEXT)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query. <H3 class="space-before">Description</H3>This will find all documents from the collection that match the fulltext query specified in <code>query</code>.In order to use the <code>fulltext</code> operator, a fulltext index must be defined for the collection and the specified attribute.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to query.</li>
</ul>
<ul>
<li><code>attribute</code>: The attribute that contains the texts.</li>
</ul>
<ul>
<li><code>query</code>: The fulltext query.</li>
</ul>
<ul>
<li><code>skip</code>: The documents to skip in the query. (optional)</li>
</ul>
<ul>
<li><code>limit</code>: The maximal amount of documents to return. (optional)</li>
</ul>
<ul>
<li><code>index</code>: If given, the identifier of the fulltext-index to use. (optional)</li>
</ul>
Returns a cursor containing the result, see <a class="el" href="HttpCursor.html">HTTP Interface for AQL Query Cursors</a> for details. <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 201</div> is returned if the return set contains at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3><pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/fulltext
{ "collection": "products", "attribute" : "text", "query" : "word" }

HTTP/1.1 201 Created
content-type: application/json; charset=utf-8

{ 
  "result" : [ 
    { 
      "_id" : "products/186344593", 
      "_rev" : "186344593", 
      "_key" : "186344593", 
      "text" : "this text contains word" 
    }, 
    { 
      "_id" : "products/186541201", 
      "_rev" : "186541201", 
      "_key" : "186541201", 
      "text" : "this text also has a word" 
    } 
  ], 
  "hasMore" : false, 
  "count" : 2, 
  "error" : false, 
  "code" : 201 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleRemoveByExample"></a> </p><div class="restheader">PUT /_api/simple/remove-by-example<div class="restheaderremark">(removes documents by example)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query.  <H3 class="space-before">Description</H3>This will find all documents in the collection that match the specified example object.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to remove from.</li>
</ul>
<ul>
<li><code>example</code>: An example object that all collection objects are compared against.</li>
</ul>
<ul>
<li><code>waitForSync</code>: if set to true, then all removal operations will instantly be synchronised to disk. If this is not specified, then the collection's default sync behavior will be applied.</li>
</ul>
<ul>
<li><code>limit</code>: an optional value that determines how many documents to delete at most. If <code>limit</code> is specified but is less than the number of documents in the collection, it is undefined which of the documents will be deleted.</li>
</ul>
Returns the number of documents that were deleted <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 200</div> is returned if there where removed at least one document and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3><pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/remove-by-example
{ "collection": "products", "example" : { "a" : { "j" : 1 } } }

HTTP/1.1 200 OK
content-type: application/json; charset=utf-8

{ 
  "deleted" : 1, 
  "error" : false, 
  "code" : 200 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleReplaceByExample"></a> </p><div class="restheader">PUT /_api/simple/replace-by-example<div class="restheaderremark">(replaces documents by example)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query.  <H3 class="space-before">Description</H3>This will find all documents in the collection that match the specified example object, and replace the entire document body with the new value specified. Note that document meta-attributes such as <code>_id</code>, <code>_key</code>, <code>_from</code>, <code>_to</code> etc. cannot be replaced.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to replace within.</li>
</ul>
<ul>
<li><code>example</code>: An example object that all collection objects are compared against.</li>
</ul>
<ul>
<li><code>newValue</code>: The replacement document that will get inserted in place of the "old" documents.</li>
</ul>
<ul>
<li><code>waitForSync</code>: if set to true, then all removal operations will instantly be synchronised to disk. If this is not specified, then the collection's default sync behavior will be applied.</li>
</ul>
<ul>
<li><code>limit</code>: an optional value that determines how many documents to replace at most. If <code>limit</code> is specified but is less than the number of documents in the collection, it is undefined which of the documents will be replaced.</li>
</ul>
Returns the number of documents that were replaced <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 200</div> is returned if the documents in the collection where replaced successfully and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3><pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/replace-by-example
{ "collection": "products", "example" : { "a" : { "j" : 1 } }, "newValue" : {"foo" : "bar"}, "limit" : 3 }

HTTP/1.1 200 OK
content-type: application/json; charset=utf-8

{ 
  "replaced" : 1, 
  "error" : false, 
  "code" : 200 
}

</pre> </p>
<p><a class="anchor" id="HttpSimpleUpdateByExample"></a> </p><div class="restheader">PUT /_api/simple/update-by-example<div class="restheaderremark">(updates documents by example)</div></div> <H3>Body parameters</H3><div class="restbodyparam">query (string,required)</div> Contains the query.  <H3 class="space-before">Description</H3>This will find all documents in the collection that match the specified example object, and partially update the document body with the new value specified. Note that document meta-attributes such as <code>_id</code>, <code>_key</code>, <code>_from</code>, <code>_to</code> etc. cannot be replaced.The call expects a JSON hash array as body with the following attributes:<ul>
<li><code>collection</code>: The name of the collection to update within.</li>
</ul>
<ul>
<li><code>example</code>: An example object that all collection objects are compared against.</li>
</ul>
<ul>
<li><code>newValue</code>: The update value that will get inserted in place of the "old" version of the found documents.</li>
</ul>
<ul>
<li><code>keepNull</code>: This parameter can be used to modify the behavior when handling <code>null</code> values. Normally, <code>null</code> values are stored in the database. By setting the <code>keepNull</code> parameter to <code>false</code>, this behavior can be changed so that all attributes in <code>data</code> with <code>null</code> values will be removed from the updated document.</li>
</ul>
<ul>
<li><code>waitForSync</code>: if set to true, then all removal operations will instantly be synchronised to disk. If this is not specified, then the collection's default sync behavior will be applied.</li>
</ul>
<ul>
<li><code>limit</code>: an optional value that determines how many documents to update at most. If <code>limit</code> is specified but is less than the number of documents in the collection, it is undefined which of the documents will be updated.</li>
</ul>
Returns the number of documents that were updated <H3>Return codes</H3> <p></p><div class="restreturncode">HTTP 200</div> is returned if the collection was updated successfully and <code>waitForSync</code> was <code>true</code>. <p></p><div class="restreturncode">HTTP 400</div> is returned if the body does not contain a valid JSON representation of a document. The response body contains an error document in this case. <p></p><div class="restreturncode">HTTP 404</div> is returned if the collection specified by <code>collection</code> is unknown. The response body contains an error document in this case. <H3>Examples</H3><pre class="fragment">unix&gt; curl -X PUT --data @- --dump - http://localhost:8529/_api/simple/update-by-example
{ "collection": "products", "example" : { "a" : { "j" : 1 } }, "newValue" : { "a" : { "j" : 22 } }, "limit" : 3 }

HTTP/1.1 200 OK
content-type: application/json; charset=utf-8

{ 
  "updated" : 1, 
  "error" : false, 
  "code" : 200 
}

</pre>  </p>
</div></div><!-- contents -->
</div>


	  </div><!-- .entry-content -->
	</div><!-- #post-## -->


      <div id="comments">


  <p class="nocomments">Comments are closed.</p>



</div><!-- #comments -->


      </div><!-- #content -->
    </div><!-- #container -->

  <div style="clear:both;"></div>
  </div><!-- #main -->



</div><!-- #wrapper -->
</div><!-- #surrounding -->


  <div id="footer" role="contentinfo">
    <div id="colophon">




      <div id="footer-widget-area" role="complementary">

	<div id="first" class="widget-area">
	  <ul class="xoxo">
		<li id="recent-posts-4" class="widget-container widget_recent_entries">	  <h3 class="widget-title">Recent Posts</h3>	<ul>
	  <li>
	<a href="http://www.arangodb.org/2013/05/22/replication-and-sharding-in-arangodb" title="Our plans on replication and sharding in ArangoDB">Our plans on replication and sharding in ArangoDB</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/14/ideas-and-facts-from-scotland-js-in-edinburgh" title="Ideas and Facts from scotland.js in Edinburgh">Ideas and Facts from scotland.js in Edinburgh</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/12/arangodb-1-3-0-released" title="ArangoDB 1.3.0 released">ArangoDB 1.3.0 released</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/06/foxx-screencast-part-2" title="Foxx Screencast: Part 2">Foxx Screencast: Part 2</a>
	    </li>
	</ul>
    </li><li id="text-5" class="widget-container widget_text"><h3 class="widget-title">Documentation</h3>     <div class="textwidget"><ul>
  <li><a href="/quickstart">First step tutorial</a></li>
  <li><a href="/manuals">Manual/documentation (HTML/PDF)</a></li>
  <li><a href="/manuals/arangodb_1.0_shell_reference_card.pdf">ArangoDB Shell Reference Card (HTML/PDF)</a></li>
  <li><a href="/try">Try ArangoDB online</a></li>
  <li><a href="/api">API clients & 3rd party libs</a></li>
        <li><a href="/logos">ArangoDB artwork/logos</a></li>
</ul>
</div>
    </li><li id="text-7" class="widget-container widget_text"><h3 class="widget-title">Social Links</h3>      <div class="textwidget"><ul>
  <li><a href="https://twitter.com/arangodb">ArangoDB on Twitter</a></li>
  <li><a href="https://groups.google.com/group/arangodb">ArangoDB Google Group</a></li>
  <li><a href="http://stackoverflow.com/questions/tagged/arangodb">ArangoDB questions on StackOverflow</a></li>
  <li><a href="https://github.com/triagens/arangodb/issues?state=open">Issue Tracker at Github</a></li>
</ul></div>
    </li><li id="text-6" class="widget-container widget_text"><h3 class="widget-title">Roadmap</h3>	<div class="textwidget"><ul>
  <li><a href="/roadmap/#v1.4">Backlog for Version 1.4</a></li>
  <li><a href="/roadmap/#v1.x">Backlog for Version 1.x</a></li>
</ul></div>
    </li>	  </ul>
	</div><!-- #first .widget-area -->




      </div><!-- #footer-widget-area -->


<!-- #site-generator -->

    </div><!-- #colophon -->

        <div class="copy">
            Copyright 2013 ArangoDB | <a href="/imprint">Imprint</a>
        </div>

  </div><!-- #footer -->

</body>
</html>