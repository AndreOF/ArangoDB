<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />


<link rel="shortcut icon" type="image/x-icon" href="http://www.arangodb.org/wp-content/themes/triagens/images/favicon.ico">

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://www.arangodb.org/wp-content/themes/triagens-child/style.css" />
<link rel="pingback" href="" />


<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.4 - http://yoast.com/wordpress/seo/ -->
<title>ArangoDB Manual Pages - ArangoDB</title>
<meta name="description" content="ArangoDB Manual Pages"/>
<link rel="canonical" href="http://www.arangodb.org/manualredirector" />
<meta property='og:locale' content='en_US'/>
<meta property='og:title' content='ArangoDB Manual Pages - ArangoDB'/>
<meta property='og:description' content='ArangoDB Manual Pages'/>
<meta property='og:url' content='http://www.arangodb.org/manualredirector'/>
<meta property='og:site_name' content='ArangoDB'/>
<meta property='og:type' content='article'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Feed" href="http://www.arangodb.org/feed" />
<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Comments Feed" href="http://www.arangodb.org/comments/feed" />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.arangodb.org/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.arangodb.org/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>

    <style type="text/css">
    body {
    margin-top: -28px;
    padding-bottom: 28px;
    }
    body.admin-bar #wphead {
       padding-top: 0;
    }
    body.admin-bar #footer {
       padding-bottom: 28px;
    }
<link type="text/css" media="screen" rel="stylesheet" href="http://www.arangodb.org/wp-content/plugins/tweet-blender/css/tweets.css" />

    <style media="print" type="text/css">
      div.faq_answer {display: block!important;}
      p.faq_nav {display: none;}
    </style>


</head>

<body class="page page-id-1410 page-template page-template-onecolumn-page-php">

    <div id="access" role="navigation">
        <div id="nav">
            <a href="http://www.arangodb.org/" title="ArangoDB" id="branding"><img src="/wp-content/themes/triagens/images/logo_arangob_white.gif" width="154" height="34" alt="ArangoDB"></a>
            <div class="menu-header"><ul id="menu-home" class="menu"><li id="menu-item-184" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-184"><a href="http://www.arangodb.org/">Home</a></li>
<li id="menu-item-1345" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1345"><a href="http://www.arangodb.org/try">Try it out</a></li>
<li id="menu-item-279" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-279"><a href="http://www.arangodb.org/documentation">Documentation</a></li>
<li id="menu-item-95" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-95"><a href="http://www.arangodb.org/roadmap">Roadmap</a></li>
<li id="menu-item-71" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-71"><a href="http://www.arangodb.org/download">Downloads</a></li>
<li id="menu-item-1299" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1299"><a href="http://www.arangodb.org/api">Drivers</a></li>
<li id="menu-item-156" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-156"><a href="http://www.arangodb.org/blog">Blog</a></li>
</ul></div>            <div class="clear_both"></div>
        </div>
    </div><!-- #access -->

  <div id="surrounding">

    <div id="wrapper" class="hfeed">
	<div id="main">

    <div id="fullsize" class="one-column">
      <div id="content" role="main">



            <div id="post-1410" class="post-1410 page type-page status-publish hentry">
                    <h2 class="entry-title">ArangoDB Manual Pages</h2>

	  <div class="entry-content">

<link id="arangodb.css" type="text/css" href="arangodb.css" rel="stylesheet">
</div>
<div id="manual_search">
<form action="/" id="searchform" method="get" role="search">
  <div><label for="s" class="screen-reader-text">Search for:</label>
    <input type="text" id="s" name="s" value="" />
    <input type="submit" value="Search" id="searchsubmit" />
  </div>
</form>
</div>
<div class="clear_both"></div>
<hr />
<div class="arangodb">
<div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Administrating ArangoDB </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> <div class="navigate">prev | <a href="DbaManual.html">home</a> | <a href="HandlingIndexes.html">next</a></div>  <div class="toc"><ul>
<li><a class="el" href="DbaManualBasics.html">Administrating ArangoDB</a><ul>
<li><a class="el" href="DbaManualBasics.html#DbaManualBasicsDurability">Mostly Memory/Durability </a></li>
<li><a class="el" href="DbaManualBasics.html#DbaManualBasicsMvcc">AppendOnly/MVCC </a></li>
<li><a class="el" href="DbaManualBasics.html#DbaManualBasicsConfig">Configuration </a><ul>
<li><a class="el" href="DbaManualBasics.html#DbaManualBasicsConfigGlobal">Global Configuration </a></li>
<li><a class="el" href="DbaManualBasics.html#DbaManualBasicsConfigCollection">Per Collection Configuration </a> </li>
</ul>
</li>
</ul>
</li>
</ul>
  </div> <h2><a class="anchor" id="DbaManualBasicsDurability"></a>
Mostly Memory/Durability </h2>
<p>Database documents are stored in memory-mapped files. Per default, these memory-mapped files are synced regularly but not instantly. This is often a good tradeoff between storage performance and durability. If this level of durabiity is too low for an application, the server can also sync all modifications to disk instantly. This will give full durability but will come with a performance penalty as each data modification will trigger a sync I/O operation.</p>
<h2><a class="anchor" id="DbaManualBasicsMvcc"></a>
AppendOnly/MVCC </h2>
<p>Instead of overwriting existing documents, a completely new version of the document is generated. The two benefits are:</p>
<ul>
<li>Objects can be stored coherently and compactly in the main memory.</li>
<li>Objects are preserved-isolated writing and reading transactions allow accessing these objects for parallel operations.</li>
</ul>
<p>The system collects obsolete versions as garbage, recognizing them as forsaken. Garbage collection is asynchronous and runs parallel to other processes.</p>
<h2><a class="anchor" id="DbaManualBasicsConfig"></a>
Configuration </h2>
<h3><a class="anchor" id="DbaManualBasicsConfigGlobal"></a>
Global Configuration </h3>
<p>There are certain default values, which you can store in the configuration file or supply on the command line.</p>
<p> <div class="commandlineoption">--database.maximal-journal-size  <span class="commandlineargument">size</span> </div>Maximal size of journal in bytes. Can be overwritten when creating a new collection. Note that this also limits the maximal size of a single document.The default is <code>32MB</code>. </p>
<p> <div class="commandlineoption">--database.force-sync-shapes  <span class="commandlineargument">boolean</span> </div>Force syncing of shape data to disk when writing shape information. If turned off, syncing will still happen for shapes of collections that have a waitForSync value of <code>true</code>. If turned on, syncing of shape data will always happen, regardless of the value of waitForSync.The default is <code>true</code>. </p>
<h3><a class="anchor" id="DbaManualBasicsConfigCollection"></a>
Per Collection Configuration </h3>
<p>You can configure the durability behavior on a per collection basis. Use the ArangoDB shell to change these properties.</p>
<p> <div class="functionsignature"> <span class="functionargument">collection</span>.properties() </div>Returns an object containing all collection properties.<ul>
<li><code>waitForSync</code>: If <code>true</code> creating a document will only return after the data was synced to disk.</li>
</ul>
<ul>
<li><code>journalSize</code> : The size of the journal in bytes.</li>
</ul>
<ul>
<li><code>isVolatile</code>: If <code>true</code> then the collection data will be kept in memory only and ArangoDB will not write or sync the data to disk.</li>
</ul>
<ul>
<li><code>keyOptions</code> (optional) additional options for key generation. This is a JSON array containing the following attributes (note: some of the attributes are optional):<ul>
<li><code>type</code>: the type of the key generator used for the collection.</li>
<li><code>allowUserKeys</code>: if set to <code>true</code>, then it is allowed to supply own key values in the <code>_key</code> attribute of a document. If set to <code>false</code>, then the key generator will solely be responsible for generating keys and supplying own key values in the <code>_key</code> attribute of documents is considered an error.</li>
<li><code>increment</code>: increment value for <code>autoincrement</code> key generator. Not used for other key generator types.</li>
<li><code>offset</code>: initial offset value for <code>autoincrement</code> key generator. Not used for other key generator types.</li>
</ul>
</li>
</ul>
 <div class="functionsignature"> <span class="functionargument">collection</span>.properties( <span class="functionargument">properties</span>) </div>Changes the collection properties.  <span class="functionargument">properties</span> must be a object with one or more of the following attribute(s):<ul>
<li><code>waitForSync</code>: If <code>true</code> creating a document will only return after the data was synced to disk.</li>
</ul>
<ul>
<li><code>journalSize</code> : The size of the journal in bytes.</li>
</ul>
Note that it is not possible to change the journal size after the journal or datafile has been created. Changing this parameter will only effect newly created journals. Also note that you cannot lower the journal size to less then size of the largest document already stored in the collection.Note: some other collection properties, such as <code>type</code>, <code>isVolatile</code>, or <code>keyOptions</code> cannot be changed once the collection is created. <H3>Examples</H3>Read all properties<pre class="fragment">arango&gt; db.examples.properties()
{ "waitForSync" : false, "journalSize" : 33554432, "isVolatile" : false }
</pre>Change a property<pre class="fragment">arango&gt; db.examples.properties({ waitForSync : false })
{ "waitForSync" : false, "journalSize" : 33554432, "isVolatile" : false }
</pre>  </p>
</div></div><!-- contents -->
</div>


	  </div><!-- .entry-content -->
	</div><!-- #post-## -->


      <div id="comments">


  <p class="nocomments">Comments are closed.</p>



</div><!-- #comments -->


      </div><!-- #content -->
    </div><!-- #container -->

  <div style="clear:both;"></div>
  </div><!-- #main -->



</div><!-- #wrapper -->
</div><!-- #surrounding -->


  <div id="footer" role="contentinfo">
    <div id="colophon">




      <div id="footer-widget-area" role="complementary">

	<div id="first" class="widget-area">
	  <ul class="xoxo">
		<li id="recent-posts-4" class="widget-container widget_recent_entries">	  <h3 class="widget-title">Recent Posts</h3>	<ul>
	  <li>
	<a href="http://www.arangodb.org/2013/05/22/replication-and-sharding-in-arangodb" title="Our plans on replication and sharding in ArangoDB">Our plans on replication and sharding in ArangoDB</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/14/ideas-and-facts-from-scotland-js-in-edinburgh" title="Ideas and Facts from scotland.js in Edinburgh">Ideas and Facts from scotland.js in Edinburgh</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/12/arangodb-1-3-0-released" title="ArangoDB 1.3.0 released">ArangoDB 1.3.0 released</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/06/foxx-screencast-part-2" title="Foxx Screencast: Part 2">Foxx Screencast: Part 2</a>
	    </li>
	</ul>
    </li><li id="text-5" class="widget-container widget_text"><h3 class="widget-title">Documentation</h3>     <div class="textwidget"><ul>
  <li><a href="/quickstart">First step tutorial</a></li>
  <li><a href="/manuals">Manual/documentation (HTML/PDF)</a></li>
  <li><a href="/manuals/arangodb_1.0_shell_reference_card.pdf">ArangoDB Shell Reference Card (HTML/PDF)</a></li>
  <li><a href="/try">Try ArangoDB online</a></li>
  <li><a href="/api">API clients & 3rd party libs</a></li>
        <li><a href="/logos">ArangoDB artwork/logos</a></li>
</ul>
</div>
    </li><li id="text-7" class="widget-container widget_text"><h3 class="widget-title">Social Links</h3>      <div class="textwidget"><ul>
  <li><a href="https://twitter.com/arangodb">ArangoDB on Twitter</a></li>
  <li><a href="https://groups.google.com/group/arangodb">ArangoDB Google Group</a></li>
  <li><a href="http://stackoverflow.com/questions/tagged/arangodb">ArangoDB questions on StackOverflow</a></li>
  <li><a href="https://github.com/triagens/arangodb/issues?state=open">Issue Tracker at Github</a></li>
</ul></div>
    </li><li id="text-6" class="widget-container widget_text"><h3 class="widget-title">Roadmap</h3>	<div class="textwidget"><ul>
  <li><a href="/roadmap/#v1.4">Backlog for Version 1.4</a></li>
  <li><a href="/roadmap/#v1.x">Backlog for Version 1.x</a></li>
</ul></div>
    </li>	  </ul>
	</div><!-- #first .widget-area -->




      </div><!-- #footer-widget-area -->


<!-- #site-generator -->

    </div><!-- #colophon -->

        <div class="copy">
            Copyright 2013 ArangoDB | <a href="/imprint">Imprint</a>
        </div>

  </div><!-- #footer -->

</body>
</html>