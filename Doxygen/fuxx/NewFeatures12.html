<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />


<link rel="shortcut icon" type="image/x-icon" href="http://www.arangodb.org/wp-content/themes/triagens/images/favicon.ico">

<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://www.arangodb.org/wp-content/themes/triagens-child/style.css" />
<link rel="pingback" href="" />


<!-- This site is optimized with the Yoast WordPress SEO plugin v1.4.4 - http://yoast.com/wordpress/seo/ -->
<title>ArangoDB Manual Pages - ArangoDB</title>
<meta name="description" content="ArangoDB Manual Pages"/>
<link rel="canonical" href="http://www.arangodb.org/manualredirector" />
<meta property='og:locale' content='en_US'/>
<meta property='og:title' content='ArangoDB Manual Pages - ArangoDB'/>
<meta property='og:description' content='ArangoDB Manual Pages'/>
<meta property='og:url' content='http://www.arangodb.org/manualredirector'/>
<meta property='og:site_name' content='ArangoDB'/>
<meta property='og:type' content='article'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Feed" href="http://www.arangodb.org/feed" />
<link rel="alternate" type="application/rss+xml" title="ArangoDB &raquo; Comments Feed" href="http://www.arangodb.org/comments/feed" />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.arangodb.org/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='http://www.arangodb.org/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://www.arangodb.org/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>

    <style type="text/css">
    body {
    margin-top: -28px;
    padding-bottom: 28px;
    }
    body.admin-bar #wphead {
       padding-top: 0;
    }
    body.admin-bar #footer {
       padding-bottom: 28px;
    }
<link type="text/css" media="screen" rel="stylesheet" href="http://www.arangodb.org/wp-content/plugins/tweet-blender/css/tweets.css" />

    <style media="print" type="text/css">
      div.faq_answer {display: block!important;}
      p.faq_nav {display: none;}
    </style>


</head>

<body class="page page-id-1410 page-template page-template-onecolumn-page-php">

    <div id="access" role="navigation">
        <div id="nav">
            <a href="http://www.arangodb.org/" title="ArangoDB" id="branding"><img src="/wp-content/themes/triagens/images/logo_arangob_white.gif" width="154" height="34" alt="ArangoDB"></a>
            <div class="menu-header"><ul id="menu-home" class="menu"><li id="menu-item-184" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-184"><a href="http://www.arangodb.org/">Home</a></li>
<li id="menu-item-1345" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1345"><a href="http://www.arangodb.org/try">Try it out</a></li>
<li id="menu-item-279" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-279"><a href="http://www.arangodb.org/documentation">Documentation</a></li>
<li id="menu-item-95" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-95"><a href="http://www.arangodb.org/roadmap">Roadmap</a></li>
<li id="menu-item-71" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-71"><a href="http://www.arangodb.org/download">Downloads</a></li>
<li id="menu-item-1299" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1299"><a href="http://www.arangodb.org/api">Drivers</a></li>
<li id="menu-item-156" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-156"><a href="http://www.arangodb.org/blog">Blog</a></li>
</ul></div>            <div class="clear_both"></div>
        </div>
    </div><!-- #access -->

  <div id="surrounding">

    <div id="wrapper" class="hfeed">
	<div id="main">

    <div id="fullsize" class="one-column">
      <div id="content" role="main">



            <div id="post-1410" class="post-1410 page type-page status-publish hentry">
                    <h2 class="entry-title">ArangoDB Manual Pages</h2>

	  <div class="entry-content">

<link id="arangodb.css" type="text/css" href="arangodb.css" rel="stylesheet">
</div>
<div id="manual_search">
<form action="/" id="searchform" method="get" role="search">
  <div><label for="s" class="screen-reader-text">Search for:</label>
    <input type="text" id="s" name="s" value="" />
    <input type="submit" value="Search" id="searchsubmit" />
  </div>
</form>
</div>
<div class="clear_both"></div>
<hr />
<div class="arangodb">
<div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">New Features in ArangoDB 1.2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"> <div class="navigate"><a href="RefManual.html">prev</a> | <a href="Home.html">home</a> | <a href="Upgrading12.html">next</a></div>  <div class="toc"><ul>
<li><a class="el" href="NewFeatures12.html#NewFeatures12Introduction">Features and Improvements </a><ul>
<li><a class="el" href="NewFeatures12.html#NewFeatures12UserDefinedKeys">User-defined document keys </a></li>
<li><a class="el" href="NewFeatures12.html#NewFeatures12CollectionNames">Usage of collection names instead of ids </a></li>
<li><a class="el" href="NewFeatures12.html#NewFeatures12GraphFunctionality">Additional graph functionality </a></li>
<li><a class="el" href="NewFeatures12.html#NewFeatures12AqlImprovements">AQL Improvements </a></li>
<li><a class="el" href="NewFeatures12.html#NewFeatures12Fulltext">Fulltext indexes </a></li>
<li><a class="el" href="NewFeatures12.html#NewFeatures12CORS">CORS support </a></li>
<li><a class="el" href="NewFeatures12.html#NewFeatures12MemoryCollections">In-memory collections </a></li>
<li><a class="el" href="NewFeatures12.html#NewFeatures12Other">Other Improvements </a> </li>
</ul>
</li>
</ul>
  </div> <h2><a class="anchor" id="NewFeatures12Introduction"></a>
Features and Improvements </h2>
<p>The following list shows in detail which features have been added or improved in ArangoDB 1.2. ArangoDB 1.2 also contains several bugfixes that are not listed here.</p>
<h3><a class="anchor" id="NewFeatures12UserDefinedKeys"></a>
User-defined document keys </h3>
<p>ArangoDB 1.2 allows users to determine their own document keys to uniquely identify documents. In previous versions of ArangoDB, each document automatically got an <code>_id</code> value determined by the server. The document id part of this <code>_id</code> value was an ever-increasing integer number that the user could not change or preselect. Additionally, big integers are hard to memoize.</p>
<p>ArangoDB 1.2 allows specifying own values for the document id part of the <code>_id</code> values. This can be done by providing a <code>_key</code> attribute when creating documents.</p>
<p>The value specified for <code>_key</code> will automatically become part of the <code>_id</code> value of a document, and can be used to retrieve a document later: </p>
<pre class="fragment">arangosh&gt; db._create("mycollection");
[ArangoCollection 316959596850, "mycollection" (type document, status loaded)]

arangosh&gt; db.mycollection.save({ _key: "mytest" });
{ "error" : false, "_id" : "mycollection/mytest", "_rev" : "316961300786", "_key" : "mytest" }

arangosh&gt; db.mycollection.toArray();
[ { "_id" : "mycollection/mytest", "_rev" : "316961300786", "_key" : "mytest" } ]

arangosh&gt; db.mycollection.document("mytest");
{ "_key" : "mytest", "_id" : "mycollection/mytest", "_rev" : "316961300786" }
</pre><p>This should be much more intuitive and easier than dealing with the server-generated integer values of previous versions.</p>
<p>Specifiying a value for the <code>_key</code> attribute is optional. If the attribute is not specified, ArangoDB will create its own value as it did in previous versions. When upgrading from ArangoDB 1.1 to ArangoDB 1.2, the document ids will automatically be converted into equivalent <code>_key</code> values, meaning the same identifiers can be used after an upgrade.</p>
<p>There are a few restrictions for the values that can be used inside <code>_key</code> (please refer to <a class="el" href="NamingConventions.html#DocumentKeys">Document Keys </a> for details). Document key values are immutable, i.e. they cannot be changed after a document has been created. The only way to change a <code>_key</code> value of a document is to remove the document and re-insert it with a different key.</p>
<p>Document keys can also be used with the REST API at all places where a document id was required before.</p>
<h3><a class="anchor" id="NewFeatures12CollectionNames"></a>
Usage of collection names instead of ids </h3>
<p>ArangoDB 1.1 and earlier versions required clients to the use server-generated collection ids instead of the collections' actual names in many of the REST APIs. To make using the REST APIs easier, this has been changed so collection names can be specified instead of collection ids.</p>
<p>Collection names are also returned as part of documents' <code>_id</code> values to make comparing results easier in case just the collection name was known.</p>
<p>Here is an example AQL query from ArangoDB 1.1 that works fine, because both the collection id and the document id are known: </p>
<pre class="fragment">arangosh&gt; db._create("test");
[ArangoCollection 402238582, "test" (type document, status loaded)]

arangosh&gt; db.test.save({ value : 1});
{ "_id" : "402238582/403745910", "_rev" : 403745910 }

arangosh&gt; stmt = db._createStatement({ query: 'FOR t IN test FILTER t._id == "402238582/403745910" RETURN t' });
arangosh&gt; cursor = stmt.execute();                                                                            
arangosh&gt; while (cursor.hasNext()) { print(cursor.next()); }
{ "_id" : "402238582/403745910", "_rev" : 403745910, "value" : 1 }   
</pre><p>However, if either the collection id or the document id are not precisely known at query time, then the filter condition will fail. </p>
<pre class="fragment">arangosh&gt; stmt = db._createStatement({ query: 'FOR t IN test FILTER t._id == "403745910" RETURN t' });
arangosh&gt; cursor = stmt.execute();                                                                            
arangosh&gt; while (cursor.hasNext()) { print(cursor.next()); }
</pre><p>Effectively this meant that in 1.1 you had to know both collection names and collection ids in several cases, making ArangoDB 1.1 harder to use than necessary.</p>
<p>In ArangoDB 1.2, the above query can be rewritten to the much more intuitive form: </p>
<pre class="fragment">arangosh&gt; stmt = db._createStatement({ query: 'FOR t IN test FILTER t._id == "test/mykey" RETURN t' });
...
</pre><p>or even: </p>
<pre class="fragment">arangosh&gt; stmt = db._createStatement({ query: 'FOR t IN test FILTER t._key == "mykey" RETURN t' });
...
</pre><p>Collection names can also be used to reference other documents when creating edges, which makes setting up and querying edges much easier in ArangoDB 1.2: </p>
<pre class="fragment">arangosh&gt; db._create("myvertexcollection");
[ArangoCollection 316959891364, "myvertexcollection" (type document, status loaded)]

arangosh&gt; db._createEdgeCollection("myedgecollection");
[ArangoCollection 316961464228, "myedgecollection" (type edge, status loaded)]

arangosh&gt; db.myvertexcollection.save({ _key: "vertex1", value: 1234 });
{ "error" : false, "_id" : "myvertexcollection/vertex1", "_rev" : "316963299236", "_key" : "vertex1" }

arangosh&gt; db.myvertexcollection.save({ _key: "vertex2", value: 6789 });
{ "error" : false, "_id" : "myvertexcollection/vertex2", "_rev" : "316963364772", "_key" : "vertex2" }

arangosh&gt; db.myedgecollection.save("myvertexcollection/vertex1", "myvertexcollection/vertex2", { type: "some value" });
{ "error" : false, "_id" : "myedgecollection/316963561380", "_rev" : "316963561380", "_key" : "316963561380" } 

arangosh&gt; db.myedgecollection.outEdges("myvertexcollection/vertex1");
[ 
  { "_id" : "myedgecollection/316963561380", "_rev" : "316963561380", "_key" : "316963561380", "_from" : "myvertexcollection/vertex1", "_to" : "myvertexcollection/vertex2", "type" : "some value" } 
]  
</pre><h3><a class="anchor" id="NewFeatures12GraphFunctionality"></a>
Additional graph functionality </h3>
<ul>
<li><a class="el" href="JSModuleGraph.html">Module "graph"</a></li>
</ul>
<ul>
<li><a class="el" href="HttpGraph.html">HTTP Interface for Graphs</a></li>
</ul>
<h3><a class="anchor" id="NewFeatures12AqlImprovements"></a>
AQL Improvements </h3>
<h4>Additional functions</h4>
<p>The following functions have been added in the ArangoDB Query Language (AQL) in ArangoDB 1.2:</p>
<ul>
<li><p class="startli"><code>TRAVERSAL()</code>: returns the result of a graph traversal.</p>
<p class="startli">The starting point and direction of the traversal have to be specified. It is also possible to configure the traversal by setting the visitation order (e.g. depth-first vs. breadth-first, pre-order vs. post-order visitation), limiting the traversal depth, specifying uniqueness constraints, and limiting the traversal to specific types of edges.</p>
</li>
</ul>
<ul>
<li><code>TRAVERSAL_TREE()</code>: the same as <code>TRAVERSAL()</code>, but will return the result in a hierarchical format</li>
</ul>
<ul>
<li><code>EDGES()</code>: access edges connected to a vertex from via an AQL function</li>
</ul>
<ul>
<li><code>ATTRIBUTES()</code>: returns the names of all attributes of a document as a list</li>
</ul>
<ul>
<li><code>KEEP()</code>: keeps only the specified attributes of a document, and removes all others</li>
</ul>
<ul>
<li><code>UNSET()</code>: removes only the specified attributes from a document, and preserves all others</li>
</ul>
<ul>
<li><code>MATCHES()</code>: to check if a document matches one of multiple example documents</li>
</ul>
<ul>
<li><code>LIKE()</code>: pattern-based text comparison</li>
</ul>
<ul>
<li><code>FULLTEXT()</code>: to execute queries on a fulltext index</li>
</ul>
<p>The documentation for the individual functions is available at <a class="el" href="Aql.html#AqlFunctions">Functions </a></p>
<h4>Syntactic extensions</h4>
<p>AQL now also allows the following syntactic constructs, which were not available in previous versions of ArangoDB:</p>
<ul>
<li><code>FUNC(...)[....]</code></li>
<li><code>FUNC(...).attribute</code></li>
</ul>
<p>The above syntax constructs allow accessing an indexed or named attribute of a function return value directly, without having to store the return value in an intermediate variable.</p>
<p>An example query that is made possible by this change (returns names of all available collections): </p>
<pre class="fragment">RETURN COLLECTIONS()[*].name
</pre><p>This query did not work in ArangoDB 1.1, and the workaround was to either use a for loop and process the individual function return values separately, or to store them in a temporary variable as follows: </p>
<pre class="fragment">FOR c IN COLLECTIONS() RETURN c.name
LET c = COLLECTIONS() RETURN c[*].name
</pre><p>Note: ArangoDB 1.2 still supports these queries, but the above syntax is much simpler and intuitive.</p>
<p>ArangoDB 1.2 also supports negative list indexes to return list elements from the end of the list using the <code>[ ]</code> operator.</p>
<p>To return the last element from a list, the following query can be used in ArangoDB 1.2: </p>
<pre class="fragment">LET l = [ 1, 2, 3, 4 ] RETURN l[-1]
</pre><p>whereas in ArangoDB 1.1, the length of the list had to be determined, and the element offset had to be calculated based on that: </p>
<pre class="fragment">LET l = [ 1, 2, 3, 4 ] RETURN l[LENGTH(l) - 1]
</pre><p>Note: ArangoDB 1.2 still supports this, but the above form is much simpler.</p>
<h4>Index usage and optimisations</h4>
<p>AQL queries in ArangoDB 1.2 will use indexes in more cases than in previous versions of ArangoDB:</p>
<ul>
<li>querying with an equality predicate on the <code>_key</code> attribute will try to use the primary index</li>
<li>querying on <code>_from</code> and <code>_to</code> attributes of documents in an edge collection will try to use the edges index</li>
<li>if the result of the <code>PATHS()</code> function is restricted to specific <code>source</code> or <code>destination</code> vertexes (identified by dedicated <code>_id</code> values), the query will try to use the edges index.</li>
<li>some specific LIMIT and SORT operations will be pushed upwards in the execution pipeline to make queries faster.</li>
</ul>
<p>Note: <code>try</code> in this context means that the query optimiser will try to apply the mentioned optimisations. Specific optimisations might not be applied if other parts of the query prohibit the optimisations (e.g. querying with logical OR on different attributes will likely disable several optimisations).</p>
<h3><a class="anchor" id="NewFeatures12Fulltext"></a>
Fulltext indexes </h3>
<ul>
<li>added fulltext index type. This index type allows indexing words and prefixes of words from a specific document attribute. The index can be queries using a SimpleQueryFull object, the HTTP REST API at /_api/simple/fulltext, or via AQL</li>
</ul>
<h3><a class="anchor" id="NewFeatures12CORS"></a>
CORS support </h3>
<p>ArangoDB 1.2 offers support for Cross-Origin Resource Sharing (CORS), allowing it to be used as AJAX back end even in a cross-domain request setup.</p>
<p>Browsers will normally not allow cross-domain requests for AJAX calls due to security reasons. Modern browsers allow defined exceptions from this same-origin policy rule, provided the client code sets some specific properties in the XMLHttpRequest object. Browsers will then patch requests with some additional headers, and will allow cross-domain requests if the server returns that request with a specifically patched response (see <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS on Wikipedia</a> for more details.</p>
<p>To support CORS, ArangoDB 1.2 will answer requests that include a HTTP <code>Origin</code> header with an <code>Access-Control-Allow-Origin</code> header with the originally request value. ArangoDB 1.2 will also answer CORS preflight requests that are issued from browsers via the HTTP OPTIONS method. More details on how ArangoDB handles CORS requests can be found in <a class="el" href="Communication.html#CommunicationCors">Cross Origin Resource Sharing (CORS) requests </a>.</p>
<h3><a class="anchor" id="NewFeatures12MemoryCollections"></a>
In-memory collections </h3>
<p>ArangoDB collections are persistent and collection data is synchronised to disk frequently.</p>
<p>For some specific use cases persistence and synchronisation are overkill. This is true for "unimportant" data that can be reproduced from other sources easily. An example for such data are temporary calculations or caches.</p>
<p>To support managing data that does not require any sort of persistence, ArangoDB 1.2 introduces in-memory collections as an <em>experimental feature</em>.</p>
<p>Experimental means that the feature might not be available on all platforms, and that it might change drastically or even be removed in a future version of ArangoDB.</p>
<p>To create an in-memory collection without persistence, the optional attribute <code>isVolatile</code> can be set to <code>true</code>: </p>
<pre class="fragment">arangosh&gt; db._create("mycache", { isVolatile: true});
[ArangoCollection 316961790811, "mycache" (type document, status loaded)]
</pre><p>The collection can be used normally, and its definition (name, id, type) will remain even after a server restart. However, all data written into in-memory collections is lost when the collection is unloaded or the server is shut down: </p>
<pre class="fragment">arangosh&gt; db.mycache.save({ value : 1 });
{ "error" : false, "_id" : "mycache/316963298139", "_rev" : "316963298139", "_key" : "316963298139" } 

arangosh&gt; db.mycache.count();
1

arangosh&gt; db.mycache.unload();

arangosh&gt; db.mycache.count();
0
</pre><p>So please be careful when employing this type of collection. It should never be used for any critical data that requires persistence and durability.</p>
<p>The benefits of this type of collection are that there is no disk overhead for document operations in it. The actual performance gains over regular collections are highly platform-dependent.</p>
<h3><a class="anchor" id="NewFeatures12Other"></a>
Other Improvements </h3>
<h4>Remove by Example</h4>
<p>ArangoDB 1.2 provides a "Remove by Example" method that can be used to delete all documents from a collection that match the specified example. This can be used to delete multiple documents with a single operation.</p>
<p>The <code>removeByExample</code> method returns the number of documents removed: </p>
<pre class="fragment">arangosh&gt; db._create("mycollection");
arangosh&gt; db.mycollection.save({ value: 1 });
arangosh&gt; db.mycollection.save({ value: 2 });
arangosh&gt; db.mycollection.save({ value: 3 });
arangosh&gt; db.mycollection.save({ value: 1 });

arangosh&gt; db.mycollection.removeByExample({ value: 1 });
2
</pre><p>The number of documents to remove can optionally be limited.</p>
<p>The method is also available via the REST API (<a class="el" href="HttpSimple.html">HTTP Interface for Simple Queries</a>).</p>
<h4>Replace / Update by Example</h4>
<p>ArangoDB 1.2 also provides "Replace by Example" and "Update by Example" methods that can be used to fully or partially update documents from a collection that match the specified example. This can be used to replace document values easily with a single operation.</p>
<p>The <code>replaceByExample</code> and <code>updateByExaple</code> methods return the number of documents modified. Both operations can be limited to a specific number of documents if required.</p>
<p>Both methods are also available via the REST API (<a class="el" href="HttpSimple.html">HTTP Interface for Simple Queries</a>).</p>
<h4>Collection revision id</h4>
<p>ArangoDB 1.2 collections have a revision property. The current revision of a collection can be queried to determine whether data in a collection has changed.</p>
<p>The information can be used by clients to invalidate caches etc. Here's an example: </p>
<pre class="fragment">arangosh&gt; db._create("mycollection");
[ArangoCollection 316964608859, "mycollection" (type document, status loaded)]

arangosh&gt; db.mycollection.save({ value : 1 });
{ "error" : false, "_id" : "mycollection/316966312795", "_rev" : "316966312795", "_key" : "316966312795" }

arangosh&gt; db.mycollection.revision();
316966312795

arangosh&gt; db.mycollection.save({ value : 2 });
{ "error" : false, "_id" : "mycollection/316966378331", "_rev" : "316966378331", "_key" : "316966378331" }

arangosh&gt; db.mycollection.revision();
316966378331

arangosh&gt; db.mycollection.remove("316966378331");
true

arangosh&gt; db.mycollection.revision();
316966443867
</pre><p>The revision value returned should be treated as an opaque string. Clients should only use the value to check whether it is different from a previous revision value.</p>
<p>The revision value is also available via the REST API (<a class="el" href="HttpCollection.html">HTTP Interface for Collections</a>).</p>
<h4>Number of shapes</h4>
<p>In some cases it is useful to determine how many shapes are present in a specific collection ("shape" is ArangoDB lingo for a document format, consisting of attribute names and data types).</p>
<p>Though shapes are implicitly managed by ArangoDB and users can not create or delete shapes, the number of shapes can give a useful hint on how much variety the documents in a collection have or had.</p>
<p>The number of shapes is returned by a collection's <code>figures()</code> method, and is also provided in the return value of the figures REST API call (<a class="el" href="HttpCollection.html">HTTP Interface for Collections</a>).</p>
<h4>Edges index</h4>
<p>Insertion into an edges index is faster than in ArangoDB 1.1. This speeds up inserting documents into an edges collection, or loading an edges collection. The benefits will only be noticeable if the collection is big.</p>
<h4>Allow importing of JSON lists</h4>
<p><code>arangoimp</code> and the REST bulk import API (<a class="el" href="HttpImport.html">HTTP Interface for bulk imports</a>) of ArangoDB allow mass importing documents from a file in these formats:</p>
<ul>
<li>individual JSON documents: each line in the input file is a standalone JSON document: { _key: "key1", value: 1 } { _key: "key2", value: 2 } ...</li>
</ul>
<ul>
<li>CSV: the input file must have a header line which defines the attribute names. All following lines are considered to be the attribute values</li>
</ul>
<ul>
<li>TSV: like CSV, but not using a comma as the separator but tabs</li>
</ul>
<p>ArangoDB 1.2 also allows to import an input file that contains a JSON list of JSON documents as follows: </p>
<pre class="fragment">[
  { _key: "key1", value: 1 },
  { _key: "key2", value: 2 },
  ...
]
</pre><p>Note that there is a size restriction for this format. The whole input file needs to fit into a single buffer, or <code>arangoimp</code> will refuse to import the data.</p>
<p>The buffer size can be adjusted when invoking <code>arangoimp</code> by setting the <code>--max-upload-size</code> option to an appropriate value. To set the buffer to 16 MB: </p>
<pre class="fragment">&gt; arangoimp --file "input.json" --type json --max-upload-size 16777216 --collection myimport --create-collection true
</pre><h4>Importing into edge collections</h4>
<p>ArangoDB 1.2 also allows to import documents into edge collections. Previous versions only supported importing documents into document collections.</p>
<p>When importing data into edge collections, it is mandatory that all imported documents contain the <code>_from</code> and <code>_to</code> attributes containing valid references.</p>
<h4>Logging of import failures</h4>
<p>When documents are imported via the REST bulk import API (<a class="el" href="HttpImport.html">HTTP Interface for bulk imports</a>), ArangoDB returns an aggregate response containing the number of documents inserted plus the number of errors that occurred during the import.</p>
<p>ArangoDB 1.2 supplies additional information about the errors that occurred in the server log files. This information can be used to find documents that could not be imported (for example, because of a unique constraint violation, malformed data etc.).</p>
<h4>Pretty printing in arangosh</h4>
<p><code>arangosh</code> now uses colorised output by default, which makes all of its output more easy to grasp.</p>
<p>Note that colorised output may not be supported on all platforms.</p>
<h4>Deactivatable statistics gathering</h4>
<p>ArangoDB normally includes functionality to automatically gather request and connection-related statistics. Gathering these statistics happens automatically in a background thread. Collecting statistics can be quite CPU-intensive, especially when multiple ArangoDB instances are run on the same physical host.</p>
<p>Statistics features can be turned off at compile time using the <code>--enable-figures=no</code> configure option. However, this option affects compilation and thus was not available when using any of th precompiled packages.</p>
<p>For those, ArangoDB 1.2 now provides a startup option <code>--server.disable-statistics</code> that allows turning off the statistics gathering for performance reasons even with an already compiled binary.</p>
<p>Usage is: </p>
<pre class="fragment">&gt; arangod --server.disable-statistics true ...</pre> </div></div><!-- contents -->
</div>


	  </div><!-- .entry-content -->
	</div><!-- #post-## -->


      <div id="comments">


  <p class="nocomments">Comments are closed.</p>



</div><!-- #comments -->


      </div><!-- #content -->
    </div><!-- #container -->

  <div style="clear:both;"></div>
  </div><!-- #main -->



</div><!-- #wrapper -->
</div><!-- #surrounding -->


  <div id="footer" role="contentinfo">
    <div id="colophon">




      <div id="footer-widget-area" role="complementary">

	<div id="first" class="widget-area">
	  <ul class="xoxo">
		<li id="recent-posts-4" class="widget-container widget_recent_entries">	  <h3 class="widget-title">Recent Posts</h3>	<ul>
	  <li>
	<a href="http://www.arangodb.org/2013/05/22/replication-and-sharding-in-arangodb" title="Our plans on replication and sharding in ArangoDB">Our plans on replication and sharding in ArangoDB</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/14/ideas-and-facts-from-scotland-js-in-edinburgh" title="Ideas and Facts from scotland.js in Edinburgh">Ideas and Facts from scotland.js in Edinburgh</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/12/arangodb-1-3-0-released" title="ArangoDB 1.3.0 released">ArangoDB 1.3.0 released</a>
	    </li>
	  <li>
	<a href="http://www.arangodb.org/2013/05/06/foxx-screencast-part-2" title="Foxx Screencast: Part 2">Foxx Screencast: Part 2</a>
	    </li>
	</ul>
    </li><li id="text-5" class="widget-container widget_text"><h3 class="widget-title">Documentation</h3>     <div class="textwidget"><ul>
  <li><a href="/quickstart">First step tutorial</a></li>
  <li><a href="/manuals">Manual/documentation (HTML/PDF)</a></li>
  <li><a href="/manuals/arangodb_1.0_shell_reference_card.pdf">ArangoDB Shell Reference Card (HTML/PDF)</a></li>
  <li><a href="/try">Try ArangoDB online</a></li>
  <li><a href="/api">API clients & 3rd party libs</a></li>
        <li><a href="/logos">ArangoDB artwork/logos</a></li>
</ul>
</div>
    </li><li id="text-7" class="widget-container widget_text"><h3 class="widget-title">Social Links</h3>      <div class="textwidget"><ul>
  <li><a href="https://twitter.com/arangodb">ArangoDB on Twitter</a></li>
  <li><a href="https://groups.google.com/group/arangodb">ArangoDB Google Group</a></li>
  <li><a href="http://stackoverflow.com/questions/tagged/arangodb">ArangoDB questions on StackOverflow</a></li>
  <li><a href="https://github.com/triagens/arangodb/issues?state=open">Issue Tracker at Github</a></li>
</ul></div>
    </li><li id="text-6" class="widget-container widget_text"><h3 class="widget-title">Roadmap</h3>	<div class="textwidget"><ul>
  <li><a href="/roadmap/#v1.4">Backlog for Version 1.4</a></li>
  <li><a href="/roadmap/#v1.x">Backlog for Version 1.x</a></li>
</ul></div>
    </li>	  </ul>
	</div><!-- #first .widget-area -->




      </div><!-- #footer-widget-area -->


<!-- #site-generator -->

    </div><!-- #colophon -->

        <div class="copy">
            Copyright 2013 ArangoDB | <a href="/imprint">Imprint</a>
        </div>

  </div><!-- #footer -->

</body>
</html>